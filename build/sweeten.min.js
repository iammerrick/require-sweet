define(["sweet","escodegen"],function(e,t){"use strict";var n,r,i=function(){throw new Error("Environment unsupported.")},s={};return typeof process!="undefined"&&process.versions&&!!process.versions.node?(n=require.nodeRequire("fs"),i=function(e,t){t(n.readFileSync(e,"utf8"))}):typeof window!="undefined"&&window.navigator&&window.document||typeof importScripts!="undefined"?(r=function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;e=new ActiveXObject("Microsoft.XMLHTTP");if(!e)throw new Error("getXhr(): XMLHttpRequest not available");return e},i=function(e,t){var n=r();n.open("GET",e,!0),n.onreadystatechange=function(e){n.readyState===4&&t(n.responseText)},n.send(null)}):typeof Packages!="undefined"&&(i=function(e,t){var n="utf-8",r=new java.io.File(e),i=java.lang.System.getProperty("line.separator"),s=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(r),n)),o,u,a="";try{o=new java.lang.StringBuffer,u=s.readLine(),u&&u.length()&&u.charAt(0)===65279&&(u=u.substring(1)),o.append(u);while((u=s.readLine())!==null)o.append(i),o.append(u);a=String(o.toString())}finally{s.close()}t(a)}),{write:function(e,t,n){if(s.hasOwnProperty(t)){var r=s[t];n.asModule(e+"!"+t,r)}},load:function(n,r,o,u){var a=r.toUrl(n+".js");i(a,function(i){i=t.generate(e.parse(i)),u.isBuild&&(s[n]=i),u.isBuild||(i+="\r\n//@ sourceURL="+a),o.fromText(n,i),r([n],function(e){o(e)})})}}});